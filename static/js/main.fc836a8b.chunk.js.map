{"version":3,"sources":["components/searchbar/SearchBar.js","components/loader/Loader.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/button/Button.js","components/modal/Modal.js","components/App.js","index.js"],"names":["SearchBar","handleChange","handleSubmit","className","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","PageLoader","color","height","width","timeout","ImageGalleryItem","galleryItem","onImgClick","src","webformatURL","data-origin","largeImageURL","alt","onClick","ImageGallery","galleryItems","map","item","key","id","Button","onLoadMoreClick","Modal","path","onEscCloseModal","onOverlayCloseModal","window","addEventListener","App","state","isLoading","searchQuery","error","largeUrl","openModal","page","KEY","e","preventDefault","setState","axios","get","then","data","prevState","hits","finally","a","target","value","dataset","origin","code","console","log","removeEventListener","focusOnOverlay","querySelector","scrollTo","top","document","documentElement","scrollHeight","behavior","this","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.fc836a8b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst SearchBar = ({handleChange,handleSubmit}) => {\r\n  return (\r\n    \r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    \r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst PageLoader = () => {\r\n    return (\r\n        <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} //3 secs\r\n          />\r\n    );\r\n}\r\n\r\nexport default PageLoader;\r\n","import React from \"react\";\r\n\r\nconst ImageGalleryItem = ({ galleryItem,onImgClick }) => {\r\n  // console.log(galleryItem);\r\n  return (\r\n   \r\n    <li className=\"ImageGalleryItem\">\r\n      <img src={galleryItem.webformatURL} data-origin={galleryItem.largeImageURL} alt=\"img\" className=\"ImageGalleryItem-image\" onClick={onImgClick} />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({galleryItems,onImgClick}) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {galleryItems.map(item=>(<ImageGalleryItem key={item.id} galleryItem={item} onImgClick={onImgClick}/>))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react'\r\n\r\nconst Button = ({onLoadMoreClick}) => {\r\n    return (\r\n        <button type=\"button\" className=\"Button\" onClick={onLoadMoreClick}>\r\n            Load More\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default Button;","import React from \"react\";\r\n\r\n// import '../node_modules/basiclightbox/dist/basicLightbox.min.css';\r\n\r\nconst Modal = ({ path, onEscCloseModal, onOverlayCloseModal }) => {\r\n    window.addEventListener('keydown', onEscCloseModal);\r\n  return (\r\n    <div className=\"Overlay\" onClick={onOverlayCloseModal}>\r\n      <div className=\"Modal\" >\r\n        <img src={path} alt=\"img\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n\r\n\r\n","import React, { Component } from \"react\";\nimport SearchBar from \"./searchbar/SearchBar\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport PageLoader from \"./loader/Loader\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Button from \"./button/Button\";\nimport Modal from \"./modal/Modal\";\n// import \"basiclightbox/dist/basicLightbox.min.css\";\n// import * as basicLightbox from \"basiclightbox/dist/basicLightbox.min.js\";\n\nclass App extends Component {\n  state = {\n    galleryItems: [],\n    isLoading: false,\n    searchQuery: \"\",\n    error: null,\n    largeUrl: \"\",\n    openModal: false,\n    page: 1,\n    KEY: \"15313425-bc0f61e46a051ea2578b0fd6a\"\n  };\n\n  // componentDidMount() {\n  //   this.handleSubmit();\n  // }\n\n  handleSubmit = e => {\n    e && e.preventDefault();\n    this.setState({\n      isLoading: true\n    });\n    const { searchQuery, page, KEY } = this.state;\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n      )\n      .then(data =>\n        this.setState(prevState => ({\n          galleryItems: [...prevState.galleryItems, ...data.data.hits]\n        }))\n      )\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleChange = async e => {\n    await this.setState({\n      searchQuery: e.target.value,\n      galleryItems: []\n    });\n  };\n\n  onLoadMoreClick = async e => {\n    await this.setState(prevState => ({ page: prevState.page + 1 }));\n\n    await this.handleSubmit();\n  };\n\n  componentDidUpdate() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\"\n    });\n  }\n\n  onImgClick = e => {\n    this.setState({\n      openModal: true,\n      largeUrl: e.target.dataset.origin\n    });\n  };\n\n  onEscCloseModal = e => {\n    if (e.code === \"Escape\") {\n      console.log(e);\n      this.setState({\n        openModal: false\n      });\n      window.removeEventListener(\"keypress\", this.onEscCloseModal);\n    }\n  };\n\n  onOverlayCloseModal =  e => {\n    console.log(e.target);\n    const focusOnOverlay=e.target.querySelector(\"img\");\n    console.log(focusOnOverlay);\n    if (focusOnOverlay) {\n      this.setState({\n        openModal: false\n      });\n    }\n  };\n\n  render() {\n    const { isLoading, galleryItems, openModal, largeUrl } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchBar\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n        />\n        {isLoading && <PageLoader />}\n        <ImageGallery\n          galleryItems={galleryItems}\n          onImgClick={this.onImgClick}\n        />\n        <Button onLoadMoreClick={this.onLoadMoreClick} />\n        {openModal && (\n          <Modal\n            path={largeUrl}\n            onOverlayCloseModal={this.onOverlayCloseModal}\n            onEscCloseModal={this.onEscCloseModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}