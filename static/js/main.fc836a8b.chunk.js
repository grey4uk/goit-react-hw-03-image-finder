(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{23:function(e,t,a){e.exports=a(68)},29:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),c=a(3),i=a.n(c),s=a(4),m=a(5),u=a(16),d=a(17),g=a(21),h=a(18),p=a(22),f=function(e){var t=e.handleChange,a=e.handleSubmit;return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:a},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:t})))},y=(a(29),a(19)),E=a.n(y),v=a(20),b=a.n(v),C=function(){return r.a.createElement(b.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},k=function(e){var t=e.galleryItem,a=e.onImgClick;return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:t.webformatURL,"data-origin":t.largeImageURL,alt:"img",className:"ImageGalleryItem-image",onClick:a}))},I=function(e){var t=e.galleryItems,a=e.onImgClick;return r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(k,{key:e.id,galleryItem:e,onImgClick:a})})))},S=function(e){var t=e.onLoadMoreClick;return r.a.createElement("button",{type:"button",className:"Button",onClick:t},"Load More")},M=function(e){var t=e.path,a=e.onEscCloseModal,n=e.onOverlayCloseModal;return window.addEventListener("keydown",a),r.a.createElement("div",{className:"Overlay",onClick:n},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t,alt:"img"})))},w=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={galleryItems:[],isLoading:!1,searchQuery:"",error:null,largeUrl:"",openModal:!1,page:1,KEY:"15313425-bc0f61e46a051ea2578b0fd6a"},a.handleSubmit=function(e){e&&e.preventDefault(),a.setState({isLoading:!0});var t=a.state,n=t.searchQuery,r=t.page,o=t.KEY;E.a.get("https://pixabay.com/api/?q=".concat(n,"&page=").concat(r,"&key=").concat(o,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return a.setState((function(t){return{galleryItems:[].concat(Object(m.a)(t.galleryItems),Object(m.a)(e.data.hits))}}))})).finally((function(){return a.setState({isLoading:!1})}))},a.handleChange=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({searchQuery:t.target.value,galleryItems:[]});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onLoadMoreClick=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState((function(e){return{page:e.page+1}}));case 2:return e.next=4,a.handleSubmit();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onImgClick=function(e){a.setState({openModal:!0,largeUrl:e.target.dataset.origin})},a.onEscCloseModal=function(e){"Escape"===e.code&&(console.log(e),a.setState({openModal:!1}),window.removeEventListener("keypress",a.onEscCloseModal))},a.onOverlayCloseModal=function(e){console.log(e.target);var t=e.target.querySelector("img");console.log(t),t&&a.setState({openModal:!1})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.galleryItems,n=e.openModal,o=e.largeUrl;return r.a.createElement("div",{className:"App"},r.a.createElement(f,{handleChange:this.handleChange,handleSubmit:this.handleSubmit}),t&&r.a.createElement(C,null),r.a.createElement(I,{galleryItems:a,onImgClick:this.onImgClick}),r.a.createElement(S,{onLoadMoreClick:this.onLoadMoreClick}),n&&r.a.createElement(M,{path:o,onOverlayCloseModal:this.onOverlayCloseModal,onEscCloseModal:this.onEscCloseModal}))}}]),t}(n.Component);l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.fc836a8b.chunk.js.map